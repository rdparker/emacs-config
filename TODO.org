* TODO Setup auto-insertion templates
The `autoinsert' package may be effective for this.
** TODO File head line insertion
** TODO Copyright insertion
** TODO Shared license
I think I'd like to have a shared license than can:

1. Vary by location.
2. Be inserted into different types of files.
3. Automatically word wrap.
** TODO Mode specific inclusion of related headers
** TODO File tail insertion
* TODO Evaluate smartparens vs paredit
* TODO Look at setting up a shoes-off IRC bouncer

  https://github.com/nicferrier/shoes-off
* DONE Active ws-butler in preloaded buffers, when it loads

 Here's a snippet that finds the major-mode and parent modes for all
 buffers.  It does not yet find all the parents of the minor modes for
 a buffer.

#+BEGIN_EXAMPLE emacs-lisp
(print
 (let ((modes))
   (dolist (buffer (buffer-list) modes)
     (with-current-buffer buffer
       (let ((mode major-mode))
	 (while mode
	   (add-to-list 'modes mode)
	   (setq mode (get mode 'derived-mode-parent)))
	 (dolist (minor-mode minor-mode-alist)
	   (let ((mode (car minor-mode)))
	     (when (symbol-value mode)
	       (add-to-list 'modes mode)))))))))
#+END_EXAMPLE

Here are some functions that get us closer.

#+BEGIN_EXAMPLE emacs-lisp
(defun mode-and-parents (mode)
  "Return a list of MODE and all modes it is derived from."
  (let ((modes))
    (while mode
      (add-to-list 'modes mode)
      (setq mode (get mode 'derived-mode-parent)))
    modes))

(defun minor-modes (buffer)
  "Return a list of all minor modes that are active in BUFFER."
  (with-current-buffer buffer
    (loop for (a . b) in minor-mode-alist if (symbol-value a) collect a)))

(defun buffer-modes (buffer)
  "Return a list of all active modes in BUFFER."
  (append (with-current-buffer buffer (mode-and-parents major-mode))
	  (minor-modes buffer)))

(defun buffer-has-mode-p (buffer mode)
  "Does BUFFER have MODE active?"
  (memq mode (buffer-modes buffer)))
#+END_EXAMPLE
* DONE Update ido-flx to get bug fix from [2014-07-01 Tue]
